<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Vibes</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/style.css">
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@2.0.0"></script>
</head>
<body class="bg-light" style="padding-bottom: 80px;">
    <!-- Fixed Top Navbar -->
    <nav class="navbar navbar-dark bg-primary fixed-top shadow">
        <div class="container justify-content-center">
            <span class="navbar-brand mb-0 h1 mx-auto fs-2 fw-bold">Chat Vibez</span>
        </div>
    </nav>

    <!-- Main Content: Message List -->
    <main class="container" style="padding-top: 80px; padding-bottom: 100px;">
        <div id="messages" class="d-flex flex-column gap-2">
            <!-- Messages will be prepended here -->
        </div>
    </main>

    <!-- Fixed Bottom Chat Input Bar -->
    <nav class="navbar bg-white fixed-bottom shadow-lg border-top">
        <div class="container justify-content-center">
            <form 
                class="w-100 d-flex gap-2" 
                style="max-width: 600px;" 
                autocomplete="off"
                hx-post="/send-message" 
                hx-target="#messages" 
                hx-swap="afterbegin"
                hx-on::after-request="this.reset(); this.querySelector('[name=message]').focus();"
            >
                <input name="message" type="text" class="form-control form-control-lg flex-grow-1" placeholder="Type your message..." autocomplete="off" required />
                <button type="submit" class="btn btn-primary btn-lg">Send</button>
            </form>
        </div>
    </nav>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
